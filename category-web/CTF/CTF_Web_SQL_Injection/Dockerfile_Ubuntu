#FROM python:3.7-alpine
#FROM alpine:latest
FROM ubuntu:latest
WORKDIR /code
ENV FLASK_APP=app.py
ENV FLASK_RUN_HOST=0.0.0.0
ENV MYSQL_ROOT_PASSWORD=pass
#RUN apk add --no-cache gcc musl-dev linux-headers py3-pip mysql-client
RUN apt update
RUN apt install --yes software-properties-common
RUN add-apt-repository --yes universe
#RUN apt update
RUN apt install -y python3-pip libmysqlclient-dev
COPY requirements.txt requirements.txt
RUN pip3 install -r requirements.txt
EXPOSE 5000
COPY . .
CMD ["flask", "run"]
